<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>正在打开微信支付</title>
    <script>
	 window.alert = function (name) {
           var iframe = document.createElement("IFRAME")
           iframe.style.display = "none"
           iframe.setAttribute("src", 'data:text/plain')
           document.documentElement.appendChild(iframe)
           window.frames[0].window.alert(name)
           iframe.parentNode.removeChild(iframe)
        }
	// 判断是否为苹果设备
        function isAppleDevice() {
            var userAgent = navigator.userAgent.toLowerCase();
            return /iphone|ipad|ipod/.test(userAgent);
        }
        window.onload = function() {
	    var ua = navigator.userAgent.toLowerCase();
            var isWeixin = ua.indexOf('micromessenger') != -1;
            // if (isWeixin) {
            //     alert('用浏览器扫，微信扫不行');
            //     return
            // }
	    if(!isAppleDevice()){
		alert('只支持苹果手机相册扫');
                return
	    }
            // 解析URL参数
            var queryParams = new URLSearchParams(window.location.search);

            // 从参数中获取跳转的目标URL
            var targetUrl = queryParams.get("t");

            // 检查目标URL是否存在
            if (targetUrl) {
                // 执行页面跳转
                window.location.href = targetUrl;
            } else {
                alert("目标URL参数未提供");
            }
        };
    </script>
</head>
<body>
    <h1>自动跳转微信支付...</h1>
    <p>要点一下同意跳转</p>
</body>
</html>
